{% extends "layouts/auth.html.twig" %}

{% block main %}
  <div class="text-center mt-2">
    <h5 class="text-primary">Welcome Back !</h5>
    <p class="text-muted">Sign in to continue to Velzon.</p>
  </div>
  <div class="p-2 mt-4">
    <form action method="POST">
      {% if error %}
        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
      {% endif %}

      {% if app.user %}
        <div class="mb-3">
          You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
      {% endif %}
      
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input 
          type="text" 
          value="{{ last_username }}" 
          class="form-control" 
          name="username" 
          id="username" 
          placeholder="Nom d'utilisateur" 
          autocomplete="email" 
          required 
          autofocus
        >
      </div>

      <div class="mb-3">
        <div class="float-end">
          <a href="#" class="text-muted" onclick="prompt">Forgot password?</a>
        </div>
        <label class="form-label" for="password">Password</label>
        <div class="position-relative auth-pass-inputgroup mb-3">
          <input type="password" name="password" class="form-control pe-5 password-input" placeholder="Enter password" id="password">
          <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted shadow-none password-addon" type="button" id="password-addon"><i class="ri-eye-fill align-middle"></i></button>
        </div>
      </div>

      <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

      <!-- TODO: implement Remember-me -->
      <div class="form-check">
        <input class="form-check-input" name="_remember_me" type="checkbox" id="_remember_me">
        <label class="form-check-label" for="_remember_me">Se souvenir de moi</label>
      </div> 

      <div class="mt-4">
        <button class="btn btn-success w-100" type="submit">Se connecter</button>
      </div>
    </form>

    <div class="mt-4 text-center">
      <div class="signin-other-title">
        <h5 class="fs-13 mb-4 title">Sign In with</h5>
      </div>
      <div>
        <button type="button" class="btn btn-primary btn-icon waves-effect waves-light"><i class="ri-facebook-fill fs-16"></i></button>
        <button type="button" class="btn btn-danger btn-icon waves-effect waves-light"><i class="ri-google-fill fs-16"></i></button>
        <button type="button" class="btn btn-dark btn-icon waves-effect waves-light"><i class="ri-github-fill fs-16"></i></button>
        <button type="button" class="btn btn-info btn-icon waves-effect waves-light"><i class="ri-twitter-fill fs-16"></i></button>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
  <p class="mb-0">Don't have an account ? <a href="auth-signup-basic.html" class="fw-semibold text-primary text-decoration-underline"> Signup </a> </p>
{% endblock %}